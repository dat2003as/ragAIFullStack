# AI Chat Application

á»¨ng dá»¥ng chat AI full-stack vá»›i kháº£ nÄƒng xá»­ lÃ½ Ä‘a phÆ°Æ¡ng tiá»‡n: text, hÃ¬nh áº£nh, CSV vÃ  tÃ i liá»‡u. ÄÆ°á»£c xÃ¢y dá»±ng vá»›i React, FastAPI vÃ  Google Gemini AI.

## ğŸš€ TÃ­nh nÄƒng chÃ­nh

- **Chat AI Ä‘a phÆ°Æ¡ng thá»©c**: Sá»­ dá»¥ng Google Gemini 2.5 Flash
- **PhÃ¢n tÃ­ch hÃ¬nh áº£nh**: Upload vÃ  phÃ¢n tÃ­ch áº£nh vá»›i AI (max 5MB)
- **Xá»­ lÃ½ CSV**: Upload, parse vÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u CSV (max 10MB, 100k rows)
- **Há»— trá»£ tÃ i liá»‡u**: Xá»­ lÃ½ PDF, DOCX, DOC (max 10MB)
- **GiÃ¡m sÃ¡t thá»i gian thá»±c**: TÃ­ch há»£p Prometheus + Grafana
- **Rate Limiting**: Báº£o vá»‡ API khá»i abuse
- **Giao diá»‡n responsive**: React vá»›i Tailwind CSS
- **Session Management**: LÆ°u lá»‹ch sá»­ 50 tin nháº¯n gáº§n nháº¥t

## ğŸ“‹ YÃªu cáº§u há»‡ thá»‘ng

- Node.js 18+
- Python 3.9+
- Docker & Docker Compose
- Google Gemini API Key

## ğŸ› ï¸ Tech Stack

### Frontend (Port 6868)
- React 18 + Vite
- Tailwind CSS
- Axios
- Lucide React Icons

### Backend (Port 8000)
- FastAPI
- Python 3.9+
- Google Generative AI (Gemini 2.5 Flash)
- Pydantic V2
- Pillow, pandas, PyPDF2, python-docx

### Monitoring
- Prometheus (Port 9090)
- Grafana (Port 3000)

## ğŸš€ CÃ i Ä‘áº·t nhanh

### 1. Clone repository
```bash
git clone <repository-url>
cd ai-chat-rag
```

### 2. Cáº¥u hÃ¬nh Environment Variables
;
### 3. Khá»Ÿi Ä‘á»™ng Backend
```bash
cd backend
python -m venv venv

# Windows:
venv\Scripts\activate
# Unix/Mac:
source venv/bin/activate

pip install -r requirements.txt
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### 4. Khá»Ÿi Ä‘á»™ng Frontend
```bash
cd frontend
npm install
npm run dev -- --port 6868
```

### 5. Khá»Ÿi Ä‘á»™ng Monitoring (TÃ¹y chá»n)
```bash
docker-compose -f monitoring/docker-compose.monitoring.yml up -d
```
### 6. Makefile cháº¡y file nÃ y Ä‘á»ƒ cÃ i Ä‘áº·t táº¥t cáº© nhanh hÆ¡n
```bash
# 1ï¸âƒ£ Táº¡o mÃ´i trÆ°á»ng Python
conda create -n rag-full-stack python=3.11 -y
conda activate rag-full-stack

# 2ï¸âƒ£ CÃ i dependencies cho cáº£ backend vÃ  frontend
make install

# 3ï¸âƒ£ Build Docker images
make build

# 4ï¸âƒ£ Cháº¡y toÃ n bá»™ app
make up

```


## ğŸŒ Truy cáº­p á»©ng dá»¥ng

| Service | URL | Credentials |
|---------|-----|-------------|
| **Frontend** | http://localhost:6868 | - |
| **Backend API** | http://localhost:8000 | - |
| **API Docs** | http://localhost:8000/docs | - |
| **Metrics** | http://localhost:8001/metrics | - |
| **Prometheus** | http://localhost:9090 | - |
| **Grafana** | http://localhost:3000 | admin/admin |

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n
```
ai-chat-rag/
â”œâ”€â”€ frontend/                    # React Application (Port 6868)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ Chat/          # Chat UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar/       # Sidebar & Upload components
â”‚   â”‚   â”‚   â”œâ”€â”€ UI/            # Reusable UI components
â”‚   â”‚   â”‚   â””â”€â”€ Layout/        # Layout components
â”‚   â”‚   â”œâ”€â”€ services/          # API services
â”‚   â”‚   â”œâ”€â”€ hooks/             # Custom React hooks
â”‚   â”‚   â””â”€â”€ utils/             # Utility functions
â”‚   â”œâ”€â”€ .env                   # Frontend environment variables
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ tailwind.config.js
â”‚
â”œâ”€â”€ backend/                    # FastAPI Application (Port 8000)
â”‚   â”œâ”€â”€ api/                   # API routes
â”‚   â”‚   â”œâ”€â”€ router.py         # Main router
â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚       â””â”€â”€ endpoints/    # API endpoints
â”‚   â”‚           â”œâ”€â”€ chat.py
â”‚   â”‚           â”œâ”€â”€ health.py
â”‚   â”‚           â”œâ”€â”€ upload_csv.py
â”‚   â”‚           â”œâ”€â”€ upload_image.py
â”‚   â”‚           â””â”€â”€ upload_document.py
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ config/           # Configuration management
â”‚   â”œâ”€â”€ services/             # Business logic
â”‚   â”‚   â”œâ”€â”€ gemini_service.py
â”‚   â”‚   â”œâ”€â”€ image_service.py
â”‚   â”‚   â”œâ”€â”€ csv_service.py
â”‚   â”‚   â””â”€â”€ document_service.py
â”‚   â”œâ”€â”€ models/               # Pydantic models
â”‚   â”œâ”€â”€ middleware/           # Middlewares
â”‚   â”‚   â”œâ”€â”€ cors.py
â”‚   â”‚   â”œâ”€â”€ error_handler.py
â”‚   â”‚   â”œâ”€â”€ logging_middleware.py
â”‚   â”‚   â””â”€â”€ rate_limiter.py
â”‚   â”œâ”€â”€ monitoring/           # Prometheus metrics
â”‚   â”œâ”€â”€ uploads/              # Temporary file storage
â”‚   â”œâ”€â”€ .env                  # Backend environment variables
â”‚   â”œâ”€â”€ main.py               # FastAPI entry point
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ monitoring/                # Monitoring stack (Ports 9090, 3000)
â”‚   â”œâ”€â”€ prometheus/
â”‚   â”‚   â”œâ”€â”€ prometheus.yml
â”‚   â”‚   â””â”€â”€ alerts.yml
â”‚   â”œâ”€â”€ grafana/
â”‚   â”‚   â””â”€â”€ provisioning/
â”‚   â””â”€â”€ docker-compose.monitoring.yml
â”‚
â”œâ”€â”€ .env                       # Root environment variables
â”œâ”€â”€ docker-compose.yml         # Full stack deployment
â””â”€â”€ README.md
```

## ğŸ“– Documentation

- [Frontend Documentation](./frontend/README.md)
- [Backend Documentation](./backend/README.md)
- [Monitoring Documentation](./monitoring/README.md)

## ğŸ”§ Giá»›i háº¡n File Upload

| Loáº¡i File | KÃ­ch thÆ°á»›c tá»‘i Ä‘a | Äá»‹nh dáº¡ng há»— trá»£ |
|-----------|-------------------|------------------|
| **HÃ¬nh áº£nh** | 5 MB | JPEG, PNG, GIF, WebP |
| **CSV** | 10 MB | CSV (max 100k rows) |
| **Documents** | 10 MB | PDF, DOC, DOCX |

### Giá»›i háº¡n xá»­ lÃ½

- **HÃ¬nh áº£nh**: Max dimension 4096px, quality 85%
- **CSV**: Chunk processing 10k rows/batch
- **Session**: 50 tin nháº¯n lá»‹ch sá»­, timeout 30 phÃºt
- **Gemini API**: Timeout 30 giÃ¢y, max 2048 tokens

**Error: Invalid API Key**
- Kiá»ƒm tra `GEMINI_API_KEY` trong `backend/.env`
- Verify key táº¡i https://makersuite.google.com/app/apikey

**Error: Quota exceeded**
- Check quota táº¡i Google Cloud Console
- Upgrade plan hoáº·c enable billing


## ğŸ“ API Response Codes

| Code | Meaning | Description |
|------|---------|-------------|
| 200 | OK | Request successful |
| 201 | Created | Resource created |
| 400 | Bad Request | Invalid input |
| 401 | Unauthorized | Authentication required |
| 403 | Forbidden | Access denied |
| 404 | Not Found | Resource not found |
| 413 | Payload Too Large | File too large |
| 415 | Unsupported Media Type | Invalid file type |
| 422 | Unprocessable Entity | Validation error |
| 429 | Too Many Requests | Rate limit exceeded |
| 500 | Internal Server Error | Server error |
| 503 | Service Unavailable | Service down |



